{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"/home/lekhu/Documents/David/Jobportal-Mobile-App/screens/homeStacks/jobDetail.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useState, useContext, useEffect } from \"react\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport ImageBackground from \"react-native-web/dist/exports/ImageBackground\";\nimport ContainerFluid from \"../../shared/containerFluid\";\nimport { images, globalStyles } from \"../../styles/globalStyles\";\nimport AppText from \"../../shared/appText\";\nimport AppBtn from \"../../shared/appBtn\";\nimport Icon from \"../../shared/icon\";\nimport { ScrollView, TouchableOpacity } from \"react-native-gesture-handler\";\nimport { DefaultThemeColors, DarkThemeColors } from \"../../utils/constants/Colors\";\nimport { ThemeContext } from \"../../contexts/ThemeContext\";\nimport Axios from \"axios\";\nimport { apiPath } from \"../../utils/constants/Consts\";\nimport { Asset } from \"expo-asset\";\nimport Loader from \"../../shared/loader\";\nimport { AuthContext } from \"../../contexts/AuthContext\";\n\nfunction JobDetail(_ref) {\n  var navigation = _ref.navigation,\n      route = _ref.route;\n\n  if (!route.params.jobSlug) {\n    return null;\n  }\n\n  var _useState = useState(true),\n      _useState2 = _slicedToArray(_useState, 2),\n      isLoading = _useState2[0],\n      setIsLoading = _useState2[1];\n\n  var _useState3 = useState(\"\"),\n      _useState4 = _slicedToArray(_useState3, 2),\n      job = _useState4[0],\n      setJob = _useState4[1];\n\n  var _useState5 = useState(true),\n      _useState6 = _slicedToArray(_useState5, 2),\n      showJobInfo = _useState6[0],\n      setShowJobInfo = _useState6[1];\n\n  var _useState7 = useState(false),\n      _useState8 = _slicedToArray(_useState7, 2),\n      showJobDescription = _useState8[0],\n      setshowDesription = _useState8[1];\n\n  var _useState9 = useState(false),\n      _useState10 = _slicedToArray(_useState9, 2),\n      showAboutCompany = _useState10[0],\n      setShowAboutCompany = _useState10[1];\n\n  var _useContext = useContext(AuthContext),\n      authUser = _useContext.authUser;\n\n  var _useState11 = useState(false),\n      _useState12 = _slicedToArray(_useState11, 2),\n      isSubmitting = _useState12[0],\n      setIsSubmitting = _useState12[1];\n\n  var defaultCoverUri = Asset.fromModule(images.defaultCover).uri;\n  var defaultLogoUri = Asset.fromModule(images.defaultLogo).uri;\n\n  var fetchJobDetail = function fetchJobDetail(slug) {\n    var data;\n    return _regeneratorRuntime.async(function fetchJobDetail$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.prev = 0;\n            _context.next = 3;\n            return _regeneratorRuntime.awrap(Axios.get(apiPath + \"/job/\" + slug).then(function (res) {\n              return res.data;\n            }));\n\n          case 3:\n            data = _context.sent;\n\n            if (!(data.resp == 1)) {\n              _context.next = 6;\n              break;\n            }\n\n            return _context.abrupt(\"return\", data.job);\n\n          case 6:\n            _context.next = 11;\n            break;\n\n          case 8:\n            _context.prev = 8;\n            _context.t0 = _context[\"catch\"](0);\n            console.error(_context.t0);\n\n          case 11:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, [[0, 8]], Promise);\n  };\n\n  var applyForJob = function applyForJob(job_id) {\n    var isLoggedIn, response;\n    return _regeneratorRuntime.async(function applyForJob$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            if (job_id) {\n              _context2.next = 2;\n              break;\n            }\n\n            return _context2.abrupt(\"return\");\n\n          case 2:\n            isLoggedIn = authUser.token ? true : false;\n\n            if (isLoggedIn) {\n              _context2.next = 6;\n              break;\n            }\n\n            alert(\"Please login to apply for job\");\n            return _context2.abrupt(\"return\");\n\n          case 6:\n            setIsSubmitting(true);\n            _context2.prev = 7;\n            _context2.next = 10;\n            return _regeneratorRuntime.awrap(Axios.post(apiPath + \"/apply-for-job\", {\n              job_id: job_id\n            }).then(function (res) {\n              return res.data;\n            }));\n\n          case 10:\n            response = _context2.sent;\n            if (response.resp == 1) alert(\"Successfully applied for job.\");else alert(response.message);\n            _context2.next = 17;\n            break;\n\n          case 14:\n            _context2.prev = 14;\n            _context2.t0 = _context2[\"catch\"](7);\n            console.log(_context2.t0);\n\n          case 17:\n            setIsSubmitting(false);\n\n          case 18:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, null, null, [[7, 14]], Promise);\n  };\n\n  useEffect(function () {\n    fetchJobDetail(route.params.jobSlug).then(function (job) {\n      if (job) setJob(job);\n    }).catch(function (err) {\n      return console.log(err);\n    }).then(function () {\n      return setIsLoading(false);\n    });\n  }, [route]);\n  return React.createElement(ContainerFluid, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 5\n    }\n  }, isLoading ? React.createElement(Loader, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 9\n    }\n  }) : React.createElement(ScrollView, {\n    contentContainerStyle: {\n      flexGrow: 1\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 9\n    }\n  }, React.createElement(View, {\n    style: {\n      marginBottom: 20\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 11\n    }\n  }, React.createElement(ImageBackground, {\n    source: {\n      uri: job.employer.logo ? job.employer.logo : defaultCoverUri\n    },\n    style: styles.companyCover,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 13\n    }\n  }, React.createElement(Image, {\n    source: {\n      uri: job.employer.logo ? job.employer.logo : defaultLogoUri\n    },\n    style: styles.companyLogo,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 15\n    }\n  }))), React.createElement(View, {\n    style: {\n      paddingHorizontal: 20\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 11\n    }\n  }, React.createElement(View, {\n    style: {\n      marginTop: 10\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 13\n    }\n  }, React.createElement(AppText, {\n    size: 22,\n    family: \"semi-bold\",\n    color: \"info\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 15\n    }\n  }, job.title), React.createElement(AppText, {\n    size: 18,\n    family: \"semi-bold\",\n    color: \"secondary\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 15\n    }\n  }, job.employer.name), React.createElement(View, {\n    style: {\n      marginLeft: 15,\n      marginVertical: 7\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 15\n    }\n  }, React.createElement(View, {\n    style: globalStyles.rowAlignCenter,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 17\n    }\n  }, React.createElement(Icon, {\n    name: \"location-on\",\n    size: 20,\n    color: \"#666666\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 19\n    }\n  }), React.createElement(AppText, {\n    color: \"secondary\",\n    size: 16,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 19\n    }\n  }, React.createElement(Text, {\n    style: \"marginLeft: 5\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 21\n    }\n  }, \" \", job.employer.address))), React.createElement(View, {\n    style: globalStyles.rowAlignCenter,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 17\n    }\n  }, React.createElement(Icon, {\n    name: \"attach-money\",\n    size: 20,\n    color: \"#666666\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 19\n    }\n  }), React.createElement(AppText, {\n    color: \"secondary\",\n    size: 16,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 19\n    }\n  }, React.createElement(Text, {\n    style: \"marginLeft: 5\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 21\n    }\n  }, \" \", job.salary, \" \"))))), React.createElement(View, {\n    style: {\n      marginTop: 20\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 13\n    }\n  }, React.createElement(Accordian, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 15\n    }\n  }, React.createElement(TouchableOpacity, {\n    onPress: function onPress(e) {\n      console.log(e);\n      setShowJobInfo(!showJobInfo);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 17\n    }\n  }, React.createElement(AccordianHeader, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 19\n    }\n  }, React.createElement(AppText, {\n    size: 18,\n    family: \"semi-bold\",\n    color: \"info\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 21\n    }\n  }, \"Job Info\"), React.createElement(Icon, {\n    name: showJobInfo ? \"keyboard-arrow-down\" : \"keyboard-arrow-right\",\n    size: 24,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 21\n    }\n  }))), showJobInfo && React.createElement(AccordianContent, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 19\n    }\n  }, React.createElement(TitleText, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 21\n    }\n  }, \"Categoy : \", React.createElement(InfoText, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 33\n    }\n  }, job.category)), React.createElement(TitleText, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 21\n    }\n  }, \"Level : \", React.createElement(InfoText, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 31\n    }\n  }, job.level)), React.createElement(TitleText, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 21\n    }\n  }, \"Type : \", React.createElement(InfoText, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 30\n    }\n  }, job.type)), React.createElement(TitleText, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 21\n    }\n  }, \"Education : \", React.createElement(InfoText, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 35\n    }\n  }, job.qualification)), React.createElement(TitleText, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 21\n    }\n  }, \"Experience : \", React.createElement(InfoText, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 36\n    }\n  }, job.experience)), React.createElement(TitleText, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 21\n    }\n  }, \"Deadline : \", React.createElement(InfoText, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 34\n    }\n  }, job.deadline)))), React.createElement(Accordian, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 15\n    }\n  }, React.createElement(TouchableOpacity, {\n    onPress: function onPress(e) {\n      console.log(e);\n      setshowDesription(!showJobDescription);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 17\n    }\n  }, React.createElement(AccordianHeader, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 19\n    }\n  }, React.createElement(AppText, {\n    size: 18,\n    family: \"semi-bold\",\n    color: \"info\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 194,\n      columnNumber: 21\n    }\n  }, \"Job Descripton\"), React.createElement(Icon, {\n    name: showJobDescription ? \"keyboard-arrow-down\" : \"keyboard-arrow-right\",\n    size: 24,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 21\n    }\n  }))), showJobDescription && React.createElement(AccordianContent, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 208,\n      columnNumber: 19\n    }\n  }, React.createElement(InfoText, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 209,\n      columnNumber: 21\n    }\n  }, job.description))), React.createElement(Accordian, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 216,\n      columnNumber: 15\n    }\n  }, React.createElement(TouchableOpacity, {\n    onPress: function onPress(e) {\n      console.log(e);\n      setShowAboutCompany(!showAboutCompany);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 217,\n      columnNumber: 17\n    }\n  }, React.createElement(View, {\n    style: {\n      borderColor: \"#ccc\",\n      border: 0,\n      borderBottomWidth: 1\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 223,\n      columnNumber: 19\n    }\n  }, React.createElement(AccordianHeader, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 230,\n      columnNumber: 21\n    }\n  }, React.createElement(AppText, {\n    size: 18,\n    family: \"semi-bold\",\n    color: \"info\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 231,\n      columnNumber: 23\n    }\n  }, \"About Company\"), React.createElement(Icon, {\n    name: showAboutCompany ? \"keyboard-arrow-down\" : \"keyboard-arrow-right\",\n    size: 24,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 234,\n      columnNumber: 23\n    }\n  })))), showAboutCompany && React.createElement(AccordianContent, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 247,\n      columnNumber: 19\n    }\n  }, React.createElement(TitleText, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 248,\n      columnNumber: 21\n    }\n  }, \"Address : \", React.createElement(InfoText, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 249,\n      columnNumber: 33\n    }\n  }, job.employer.address)), React.createElement(TitleText, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 251,\n      columnNumber: 21\n    }\n  }, \"Email : \", React.createElement(InfoText, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 252,\n      columnNumber: 31\n    }\n  }, job.employer.email)), React.createElement(TitleText, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 254,\n      columnNumber: 21\n    }\n  }, \"Phone : \", React.createElement(InfoText, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 255,\n      columnNumber: 31\n    }\n  }, job.employer.phone)))))), React.createElement(View, {\n    style: {\n      marginTop: 30\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 267,\n      columnNumber: 11\n    }\n  }, React.createElement(AppBtn, {\n    title: \"Appy for Job\",\n    onPress: function onPress() {\n      return applyForJob(job.id);\n    },\n    disabled: isSubmitting,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 268,\n      columnNumber: 13\n    }\n  }))));\n}\n\nfunction Accordian(_ref2) {\n  var children = _ref2.children;\n\n  var _useContext2 = useContext(ThemeContext),\n      isThemeDark = _useContext2.isThemeDark;\n\n  var backgroundColor = isThemeDark ? DarkThemeColors.primaryBg : DefaultThemeColors.primaryBg;\n  return React.createElement(View, {\n    style: _objectSpread(_objectSpread({}, styles.accordian), {}, {\n      backgroundColor: backgroundColor\n    }),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 283,\n      columnNumber: 5\n    }\n  }, children);\n}\n\nfunction AccordianHeader(_ref3) {\n  var children = _ref3.children;\n  return React.createElement(View, {\n    style: styles.accordianHeader,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 288,\n      columnNumber: 10\n    }\n  }, children);\n}\n\nfunction AccordianContent(_ref4) {\n  var children = _ref4.children;\n  return React.createElement(View, {\n    style: styles.accordianContent,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 292,\n      columnNumber: 10\n    }\n  }, children);\n}\n\nfunction TitleText(_ref5) {\n  var children = _ref5.children;\n  return React.createElement(Text, {\n    style: styles.titleText,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 297,\n      columnNumber: 5\n    }\n  }, React.createElement(AppText, {\n    size: 16,\n    color: \"primary\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 298,\n      columnNumber: 7\n    }\n  }, children));\n}\n\nfunction InfoText(_ref6) {\n  var children = _ref6.children;\n  return React.createElement(Text, {\n    style: styles.infoText,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 307,\n      columnNumber: 5\n    }\n  }, React.createElement(AppText, {\n    size: 18,\n    color: \"info\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 308,\n      columnNumber: 7\n    }\n  }, children));\n}\n\nvar styles = StyleSheet.create({\n  companyCover: {\n    minHeight: 200\n  },\n  companyLogo: {\n    height: 120,\n    width: 120,\n    borderColor: \"#aaa\",\n    borderWidth: 1,\n    position: \"absolute\",\n    bottom: -20,\n    left: 20\n  },\n  accordian: {\n    borderColor: \"#ccc\",\n    borderWidth: 1,\n    borderBottomWidth: 0\n  },\n  accordianHeader: {\n    paddingHorizontal: 20,\n    paddingVertical: 5,\n    justifyContent: \"space-between\",\n    alignItems: \"center\",\n    flexDirection: \"row\"\n  },\n  accordianContent: {\n    paddingHorizontal: 20,\n    paddingVertical: 20,\n    borderColor: \"#ccc\",\n    borderWidth: 0,\n    borderTopWidth: 1,\n    borderBottomWidth: 1\n  },\n  infoText: {\n    paddingLeft: 20\n  },\n  titleText: {\n    marginBottom: 15\n  }\n});\nexport default JobDetail;","map":{"version":3,"sources":["/home/lekhu/Documents/David/Jobportal-Mobile-App/screens/homeStacks/jobDetail.js"],"names":["React","useState","useContext","useEffect","ContainerFluid","images","globalStyles","AppText","AppBtn","Icon","ScrollView","TouchableOpacity","DefaultThemeColors","DarkThemeColors","ThemeContext","Axios","apiPath","Asset","Loader","AuthContext","JobDetail","navigation","route","params","jobSlug","isLoading","setIsLoading","job","setJob","showJobInfo","setShowJobInfo","showJobDescription","setshowDesription","showAboutCompany","setShowAboutCompany","authUser","isSubmitting","setIsSubmitting","defaultCoverUri","fromModule","defaultCover","uri","defaultLogoUri","defaultLogo","fetchJobDetail","slug","get","then","res","data","resp","console","error","applyForJob","job_id","isLoggedIn","token","alert","post","response","message","log","catch","err","flexGrow","marginBottom","employer","logo","styles","companyCover","companyLogo","paddingHorizontal","marginTop","title","name","marginLeft","marginVertical","rowAlignCenter","address","salary","e","category","level","type","qualification","experience","deadline","description","borderColor","border","borderBottomWidth","email","phone","id","Accordian","children","isThemeDark","backgroundColor","primaryBg","accordian","AccordianHeader","accordianHeader","AccordianContent","accordianContent","TitleText","titleText","InfoText","infoText","StyleSheet","create","minHeight","height","width","borderWidth","position","bottom","left","paddingVertical","justifyContent","alignItems","flexDirection","borderTopWidth","paddingLeft"],"mappings":"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","sourcesContent":["import React, { useState, useContext, useEffect } from \"react\";\nimport { View, Text, Image, StyleSheet, ImageBackground } from \"react-native\";\nimport ContainerFluid from \"../../shared/containerFluid\";\nimport { images, globalStyles } from \"../../styles/globalStyles\";\nimport AppText from \"../../shared/appText\";\nimport AppBtn from \"../../shared/appBtn\";\nimport Icon from \"../../shared/icon\";\nimport { ScrollView, TouchableOpacity } from \"react-native-gesture-handler\";\nimport {\n  DefaultThemeColors,\n  DarkThemeColors,\n} from \"../../utils/constants/Colors\";\nimport { ThemeContext } from \"../../contexts/ThemeContext\";\nimport Axios from \"axios\";\nimport { apiPath } from \"../../utils/constants/Consts\";\nimport { Asset } from \"expo-asset\";\nimport Loader from \"../../shared/loader\";\nimport { AuthContext } from \"../../contexts/AuthContext\";\n\nfunction JobDetail({ navigation, route }) {\n  //retun null if there no job slug\n  if (!route.params.jobSlug) {\n    return null;\n  }\n\n  //state\n  const [isLoading, setIsLoading] = useState(true);\n  const [job, setJob] = useState(\"\");\n  const [showJobInfo, setShowJobInfo] = useState(true);\n  const [showJobDescription, setshowDesription] = useState(false);\n  const [showAboutCompany, setShowAboutCompany] = useState(false);\n  const {authUser} = useContext(AuthContext);\n  const [isSubmitting, setIsSubmitting] = useState(false);\n\n  //default logo and cover uri\n  const defaultCoverUri = Asset.fromModule(images.defaultCover).uri;\n  const defaultLogoUri = Asset.fromModule(images.defaultLogo).uri;\n\n  //fetch job detail\n  const fetchJobDetail = async (slug) => {\n    try {\n      let data = await Axios.get(`${apiPath}/job/${slug}`).then(\n        (res) => res.data\n      );\n      if (data.resp == 1) return data.job;\n    } catch (err) {\n      console.error(err);\n    }\n  };\n\n  //handle applyforjob btn press\n  const applyForJob = async (job_id) => {\n    if(!job_id) return;\n\n    const isLoggedIn = authUser.token ? true: false;\n    if(!isLoggedIn){\n      alert(\"Please login to apply for job\");\n      return;\n    } \n\n    setIsSubmitting(true);\n    try{\n      let response = await Axios.post(`${apiPath}/apply-for-job`, {job_id}).then(res => res.data);\n      if (response.resp == 1) alert(\"Successfully applied for job.\");\n      else alert(response.message);\n    }catch(err){\n      console.log(err);\n    }\n    setIsSubmitting(false);\n   \n  };\n\n  //fetch job detail on first render and job slug change only\n  useEffect(() => {\n    fetchJobDetail(route.params.jobSlug)\n      .then((job) => {\n        if (job) setJob(job);\n      })\n      .catch((err) => console.log(err))\n      .then(() => setIsLoading(false));\n  }, [route]);\n\n  return (\n    <ContainerFluid>\n      {isLoading ? (\n        <Loader />\n      ) : (\n        <ScrollView contentContainerStyle={{ flexGrow: 1 }}>\n          {/* company cover */}\n          <View style={{ marginBottom: 20 }}>\n            <ImageBackground\n              source={{\n                uri: job.employer.logo ? job.employer.logo : defaultCoverUri,\n              }}\n              style={styles.companyCover}\n            >\n              <Image\n                source={{\n                  uri: job.employer.logo ? job.employer.logo : defaultLogoUri,\n                }}\n                style={styles.companyLogo}\n              />\n            </ImageBackground>\n          </View>\n          {/* company cover */}\n\n          {/* content start */}\n          <View style={{ paddingHorizontal: 20 }}>\n            {/* job overview start */}\n            <View style={{ marginTop: 10 }}>\n              <AppText size={22} family=\"semi-bold\" color=\"info\">\n                {job.title}\n              </AppText>\n              <AppText size={18} family=\"semi-bold\" color=\"secondary\">\n                {job.employer.name}\n              </AppText>\n              <View style={{ marginLeft: 15, marginVertical: 7 }}>\n                <View style={globalStyles.rowAlignCenter}>\n                  <Icon name=\"location-on\" size={20} color=\"#666666\" />\n                  <AppText color=\"secondary\" size={16}>\n                    <Text style=\"marginLeft: 5\"> {job.employer.address}</Text>\n                  </AppText>\n                </View>\n                <View style={globalStyles.rowAlignCenter}>\n                  <Icon name=\"attach-money\" size={20} color=\"#666666\" />\n                  <AppText color=\"secondary\" size={16}>\n                    <Text style=\"marginLeft: 5\"> {job.salary} </Text>\n                  </AppText>\n                </View>\n              </View>\n            </View>\n            {/* job overview end */}\n\n            {/* accordian wrapper start */}\n            <View style={{ marginTop: 20 }}>\n              {/* job info */}\n              <Accordian>\n                <TouchableOpacity\n                  onPress={(e) => {\n                    console.log(e);\n                    setShowJobInfo(!showJobInfo);\n                  }}\n                >\n                  <AccordianHeader>\n                    <AppText size={18} family=\"semi-bold\" color=\"info\">\n                      Job Info\n                    </AppText>\n                    <Icon\n                      name={\n                        showJobInfo\n                          ? \"keyboard-arrow-down\"\n                          : \"keyboard-arrow-right\"\n                      }\n                      size={24}\n                    />\n                  </AccordianHeader>\n                </TouchableOpacity>\n\n                {showJobInfo && (\n                  <AccordianContent>\n                    <TitleText>\n                      Categoy : <InfoText>{job.category}</InfoText>\n                    </TitleText>\n                    <TitleText>\n                      Level : <InfoText>{job.level}</InfoText>\n                    </TitleText>\n                    <TitleText>\n                      Type : <InfoText>{job.type}</InfoText>\n                    </TitleText>\n                    <TitleText>\n                      Education : <InfoText>{job.qualification}</InfoText>\n                    </TitleText>\n                    <TitleText>\n                      Experience : <InfoText>{job.experience}</InfoText>\n                    </TitleText>\n                    <TitleText>\n                      Deadline : <InfoText>{job.deadline}</InfoText>\n                    </TitleText>\n                  </AccordianContent>\n                )}\n              </Accordian>\n\n              {/* job info */}\n\n              {/* job description */}\n              <Accordian>\n                <TouchableOpacity\n                  onPress={(e) => {\n                    console.log(e);\n                    setshowDesription(!showJobDescription);\n                  }}\n                >\n                  <AccordianHeader>\n                    <AppText size={18} family=\"semi-bold\" color=\"info\">\n                      Job Descripton\n                    </AppText>\n                    <Icon\n                      name={\n                        showJobDescription\n                          ? \"keyboard-arrow-down\"\n                          : \"keyboard-arrow-right\"\n                      }\n                      size={24}\n                    />\n                  </AccordianHeader>\n                </TouchableOpacity>\n                {showJobDescription && (\n                  <AccordianContent>\n                    <InfoText>{job.description}</InfoText>\n                  </AccordianContent>\n                )}\n              </Accordian>\n              {/* job description */}\n\n              {/* about company */}\n              <Accordian>\n                <TouchableOpacity\n                  onPress={(e) => {\n                    console.log(e);\n                    setShowAboutCompany(!showAboutCompany);\n                  }}\n                >\n                  <View\n                    style={{\n                      borderColor: \"#ccc\",\n                      border: 0,\n                      borderBottomWidth: 1,\n                    }}\n                  >\n                    <AccordianHeader>\n                      <AppText size={18} family=\"semi-bold\" color=\"info\">\n                        About Company\n                      </AppText>\n                      <Icon\n                        name={\n                          showAboutCompany\n                            ? \"keyboard-arrow-down\"\n                            : \"keyboard-arrow-right\"\n                        }\n                        size={24}\n                      />\n                    </AccordianHeader>\n                  </View>\n                </TouchableOpacity>\n\n                {showAboutCompany && (\n                  <AccordianContent>\n                    <TitleText>\n                      Address : <InfoText>{job.employer.address}</InfoText>\n                    </TitleText>\n                    <TitleText>\n                      Email : <InfoText>{job.employer.email}</InfoText>\n                    </TitleText>\n                    <TitleText>\n                      Phone : <InfoText>{job.employer.phone}</InfoText>\n                    </TitleText>\n                  </AccordianContent>\n                )}\n              </Accordian>\n              {/* about about */}\n            </View>\n            {/* accordian wrapper start */}\n          </View>\n          {/* content end */}\n\n          {/* job apply btn */}\n          <View style={{ marginTop: 30 }}>\n            <AppBtn title=\"Appy for Job\" onPress={() => applyForJob(job.id)} disabled={isSubmitting} />\n          </View>\n          {/* job apply btn */}\n        </ScrollView>\n      )}\n    </ContainerFluid>\n  );\n}\n\nfunction Accordian({ children }) {\n  const { isThemeDark } = useContext(ThemeContext);\n  const backgroundColor = isThemeDark\n    ? DarkThemeColors.primaryBg\n    : DefaultThemeColors.primaryBg;\n  return (\n    <View style={{ ...styles.accordian, backgroundColor }}>{children}</View>\n  );\n}\n\nfunction AccordianHeader({ children }) {\n  return <View style={styles.accordianHeader}>{children}</View>;\n}\n\nfunction AccordianContent({ children }) {\n  return <View style={styles.accordianContent}>{children}</View>;\n}\n\nfunction TitleText({ children }) {\n  return (\n    <Text style={styles.titleText}>\n      <AppText size={16} color=\"primary\">\n        {children}\n      </AppText>\n    </Text>\n  );\n}\n\nfunction InfoText({ children }) {\n  return (\n    <Text style={styles.infoText}>\n      <AppText size={18} color=\"info\">\n        {children}\n      </AppText>\n    </Text>\n  );\n}\n\nconst styles = StyleSheet.create({\n  companyCover: {\n    minHeight: 200,\n  },\n  companyLogo: {\n    height: 120,\n    width: 120,\n    borderColor: \"#aaa\",\n    borderWidth: 1,\n    position: \"absolute\",\n    bottom: -20,\n    left: 20,\n  },\n  accordian: {\n    borderColor: \"#ccc\",\n    borderWidth: 1,\n    borderBottomWidth: 0,\n  },\n  accordianHeader: {\n    paddingHorizontal: 20,\n    paddingVertical: 5,\n    justifyContent: \"space-between\",\n    alignItems: \"center\",\n    flexDirection: \"row\",\n  },\n  accordianContent: {\n    paddingHorizontal: 20,\n    paddingVertical: 20,\n    borderColor: \"#ccc\",\n    borderWidth: 0,\n    borderTopWidth: 1,\n    borderBottomWidth: 1,\n  },\n  infoText: {\n    paddingLeft: 20,\n  },\n  titleText: {\n    marginBottom: 15,\n  },\n});\n\nexport default JobDetail;\n"]},"metadata":{},"sourceType":"module"}