{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"/home/lekhu/Documents/David/Jobportal-Mobile-App/screens/profileStacks/basicInfo.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useContext, useState, useRef, createRef } from \"react\";\nimport View from \"react-native-web/dist/exports/View\";\nimport TouchableWithoutFeedback from \"react-native-web/dist/exports/TouchableWithoutFeedback\";\nimport Keyboard from \"react-native-web/dist/exports/Keyboard\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport ErrorText from \"../../shared/errorText\";\nimport ContainerFluid from \"../../shared/containerFluid\";\nimport FormGroup from \"../../shared/formGroup\";\nimport { ThemeContext } from \"../../contexts/ThemeContext\";\nimport { AuthContext } from \"../../contexts/AuthContext\";\nimport { Formik } from \"formik\";\nimport * as yup from \"yup\";\nimport InputLevel from \"../../shared/inputLevel\";\nimport HeaderRightActionBtn from \"../../shared/headerRightActionBtn\";\nimport Checkbox from \"../../shared/checkbox\";\nimport BasicFormInput from \"../../shared/basicFormInput\";\nimport { globalStyles } from \"../../styles/globalStyles\";\nimport Axios from \"axios\";\nimport { serializeErrors } from \"../../utils/Helpers\";\nimport { apiPath } from \"../../utils/constants/Consts\";\nimport useErrorHandler from \"../../utils/custom-hooks/ErrorHandler\";\nimport { useFocusEffect } from \"@react-navigation/native\";\nimport VerticalDivider from \"../../shared/verticalDivider\";\nimport ErrorMessage from \"../../shared/errorMessage\";\nvar basicInfoSchema = yup.object({\n  firstName: yup.string().required(\"First name is required\"),\n  lastName: yup.string().required(\"Last name is required\"),\n  address: yup.string().nullable(),\n  phone: yup.string().nullable(),\n  bio: yup.string().nullable()\n});\nvar gender = [{\n  label: \"Male\",\n  value: \"male\"\n}, {\n  label: \"Female\",\n  value: \"female\"\n}, {\n  label: \"Others\",\n  value: \"other\"\n}];\n\nfunction BasicInfo(_ref) {\n  var navigation = _ref.navigation;\n\n  var _useContext = useContext(ThemeContext),\n      isThemeDark = _useContext.isThemeDark;\n\n  var _useContext2 = useContext(AuthContext),\n      updateAuthUserName = _useContext2.updateAuthUserName;\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      isEditing = _useState2[0],\n      setIsEditing = _useState2[1];\n\n  var _useErrorHandler = useErrorHandler(null),\n      error = _useErrorHandler.error,\n      showError = _useErrorHandler.showError;\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      isSubmitting = _useState4[0],\n      setIsSubmitting = _useState4[1];\n\n  var formikElement = createRef(null);\n\n  var _useState5 = useState({\n    firstName: \"\",\n    lastName: \"\",\n    phone: \"\",\n    address: \"\",\n    gender: \"\",\n    description: \"\"\n  }),\n      _useState6 = _slicedToArray(_useState5, 2),\n      user = _useState6[0],\n      setUser = _useState6[1];\n\n  React.useLayoutEffect(function () {\n    navigation.setOptions({\n      headerRight: function headerRight() {\n        return React.createElement(View, {\n          style: {\n            marginRight: 20,\n            flexDirection: \"row\"\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 9\n          }\n        }, !isEditing ? React.createElement(HeaderRightActionBtn, {\n          title: \"Edit\",\n          onPress: function onPress() {\n            return setIsEditing(true);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 13\n          }\n        }) : React.createElement(React.Fragment, null, isSubmitting ? React.createElement(React.Fragment, null, React.createElement(ActivityIndicator, {\n          size: 25,\n          color: \"#fff\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 19\n          }\n        })) : React.createElement(React.Fragment, null, React.createElement(HeaderRightActionBtn, {\n          title: \"Cancel\",\n          onPress: function onPress() {\n            return setIsEditing(!isEditing);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 19\n          }\n        }), React.createElement(VerticalDivider, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 19\n          }\n        }), React.createElement(HeaderRightActionBtn, {\n          title: \"Save\",\n          onPress: function onPress() {\n            return formikElement.current.handleSubmit();\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 19\n          }\n        }))));\n      }\n    });\n  }, [navigation, isEditing, isSubmitting, formikElement]);\n  useFocusEffect(React.useCallback(function () {\n    var _fetchUserData = function _fetchUserData() {\n      var url, response;\n      return _regeneratorRuntime.async(function _fetchUserData$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              url = apiPath + \"/jobseeker/edit-profile\";\n              _context.next = 4;\n              return _regeneratorRuntime.awrap(Axios.get(url).then(function (res) {\n                return res.data;\n              }));\n\n            case 4:\n              response = _context.sent;\n\n              if (!(response.resp == 1)) {\n                _context.next = 7;\n                break;\n              }\n\n              return _context.abrupt(\"return\", response.user);\n\n            case 7:\n              _context.next = 12;\n              break;\n\n            case 9:\n              _context.prev = 9;\n              _context.t0 = _context[\"catch\"](0);\n              console.log(\"Error\", _context.t0);\n\n            case 12:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, [[0, 9]], Promise);\n    };\n\n    _fetchUserData().then(function (user) {\n      if (!user) return;\n      var _user$first_name = user.first_name,\n          first_name = _user$first_name === void 0 ? \"\" : _user$first_name,\n          _user$last_name = user.last_name,\n          last_name = _user$last_name === void 0 ? \"\" : _user$last_name,\n          _user$phone = user.phone,\n          phone = _user$phone === void 0 ? \"\" : _user$phone,\n          _user$address = user.address,\n          address = _user$address === void 0 ? \"\" : _user$address,\n          _user$gender = user.gender,\n          gender = _user$gender === void 0 ? \"\" : _user$gender,\n          _user$description = user.description,\n          description = _user$description === void 0 ? \"\" : _user$description;\n      setUser({\n        firstName: first_name,\n        lastName: last_name,\n        phone: phone,\n        address: address,\n        gender: gender,\n        description: description\n      });\n    }).catch(function (err) {\n      return console.log(err);\n    });\n  }, []));\n\n  var handleProfileUpdate = function handleProfileUpdate(values, actions) {\n    setIsSubmitting(true);\n    var firstName = values.firstName,\n        lastName = values.lastName,\n        address = values.address,\n        phone = values.phone,\n        gender = values.gender,\n        description = values.description;\n    var userData = {\n      first_name: firstName,\n      last_name: lastName,\n      address: address,\n      phone: phone,\n      gender: gender,\n      description: description\n    };\n\n    _saveBasicInfo(userData).then(function (user) {\n      if (!user) return;\n      updateAuthUserName(firstName + \" \" + lastName).then(function () {\n        setUser(values);\n        alert(\"Successfully updated\");\n      });\n    }).catch(function (err) {\n      return console.log(err);\n    }).then(function () {\n      return setIsSubmitting(false);\n    });\n  };\n\n  var _saveBasicInfo = function _saveBasicInfo(data) {\n    var url, response;\n    return _regeneratorRuntime.async(function _saveBasicInfo$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.prev = 0;\n            url = apiPath + \"/jobseeker/edit-profile\";\n            _context2.next = 4;\n            return _regeneratorRuntime.awrap(Axios.post(url, data).then(function (res) {\n              return res.data;\n            }));\n\n          case 4:\n            response = _context2.sent;\n            console.log(response);\n\n            if (!(response.resp == 1)) {\n              _context2.next = 8;\n              break;\n            }\n\n            return _context2.abrupt(\"return\", response.user);\n\n          case 8:\n            _context2.next = 13;\n            break;\n\n          case 10:\n            _context2.prev = 10;\n            _context2.t0 = _context2[\"catch\"](0);\n\n            if (Axios.isCancel(_context2.t0)) {\n              console.log(\"Request Cancelled\", _context2.t0);\n            } else if (_context2.t0.response) {\n              if (_context2.t0.response.status == 422) showError(serializeErrors(_context2.t0.response.data));else if (_context2.t0.response.data.resp == 0) showError(serializeErrors({\n                error: _context2.t0.response.data.message\n              }));else showError(serializeErrors({\n                error: \"Failed to update basic info\"\n              }));\n            } else {\n              console.log(\"Error\", _context2.t0);\n            }\n\n          case 13:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, null, null, [[0, 10]], Promise);\n  };\n\n  var updateGender = function updateGender(handleChange, value) {\n    handleChange(value);\n  };\n\n  return React.createElement(ContainerFluid, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 5\n    }\n  }, React.createElement(ScrollView, {\n    contentContainerStyle: globalStyles.flexGrow,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 7\n    }\n  }, React.createElement(TouchableWithoutFeedback, {\n    onPress: function onPress() {\n      return Keyboard.dismiss();\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 9\n    }\n  }, React.createElement(View, {\n    style: styles.basicInfoWrapper,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 200,\n      columnNumber: 11\n    }\n  }, error && React.createElement(ErrorMessage, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 23\n    }\n  }, error), React.createElement(Formik, {\n    enableReinitialize: true,\n    initialValues: _objectSpread({}, user),\n    validationSchema: basicInfoSchema,\n    onSubmit: function onSubmit(values, actions) {\n      handleProfileUpdate(values, actions);\n    },\n    innerRef: formikElement,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 13\n    }\n  }, function (_ref2) {\n    var values = _ref2.values,\n        errors = _ref2.errors,\n        touched = _ref2.touched,\n        handleChange = _ref2.handleChange,\n        handleBlur = _ref2.handleBlur;\n    return React.createElement(React.Fragment, null, React.createElement(FormGroup, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 215,\n        columnNumber: 19\n      }\n    }, React.createElement(InputLevel, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 216,\n        columnNumber: 21\n      }\n    }, \"First Name\"), React.createElement(BasicFormInput, {\n      value: values.firstName,\n      onChangeText: handleChange(\"firstName\"),\n      onBlur: handleBlur(\"firstName\"),\n      placeholder: \"First Name\",\n      isEditing: isEditing,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 217,\n        columnNumber: 21\n      }\n    }), touched.firstName && errors.firstName ? React.createElement(ErrorText, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 23\n      }\n    }, errors.firstName) : null), React.createElement(FormGroup, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 229,\n        columnNumber: 19\n      }\n    }, React.createElement(InputLevel, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 230,\n        columnNumber: 21\n      }\n    }, \"Last Name\"), React.createElement(BasicFormInput, {\n      value: values.lastName,\n      onChangeText: handleChange(\"lastName\"),\n      onBlur: handleBlur(\"lastName\"),\n      placeholder: \"Last Name\",\n      isEditing: isEditing,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 231,\n        columnNumber: 21\n      }\n    }), touched.lastName && errors.lastName ? React.createElement(ErrorText, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 239,\n        columnNumber: 23\n      }\n    }, errors.lastName) : null), React.createElement(FormGroup, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 243,\n        columnNumber: 19\n      }\n    }, React.createElement(InputLevel, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 244,\n        columnNumber: 21\n      }\n    }, \"Phone\"), React.createElement(BasicFormInput, {\n      value: values.phone,\n      onChangeText: handleChange(\"phone\"),\n      onBlur: handleBlur(\"phone\"),\n      placeholder: \"phone\",\n      isEditing: isEditing,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 245,\n        columnNumber: 21\n      }\n    }), touched.phone && errors.phone ? React.createElement(ErrorText, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 253,\n        columnNumber: 23\n      }\n    }, errors.phone) : null), React.createElement(FormGroup, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 257,\n        columnNumber: 19\n      }\n    }, React.createElement(InputLevel, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 258,\n        columnNumber: 21\n      }\n    }, \"Address\"), React.createElement(BasicFormInput, {\n      value: values.address,\n      onChangeText: handleChange(\"address\"),\n      onBlur: handleBlur(\"address\"),\n      placeholder: \"Address\",\n      isEditing: isEditing,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 259,\n        columnNumber: 21\n      }\n    }), touched.address && errors.address ? React.createElement(ErrorText, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 267,\n        columnNumber: 23\n      }\n    }, errors.address) : null), React.createElement(FormGroup, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 271,\n        columnNumber: 19\n      }\n    }, React.createElement(View, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 272,\n        columnNumber: 21\n      }\n    }, React.createElement(InputLevel, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 273,\n        columnNumber: 23\n      }\n    }, \"Gender\"), isEditing ? React.createElement(Checkbox, {\n      radio_props: gender,\n      initial: 0,\n      onPress: function onPress(value) {\n        updateGender(handleChange(\"gender\"), value);\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 275,\n        columnNumber: 25\n      }\n    }) : React.createElement(BasicFormInput, {\n      value: values.gender ? values.gender : \"\",\n      placeholder: \"About yourself\",\n      isEditing: false,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 283,\n        columnNumber: 25\n      }\n    }))), React.createElement(FormGroup, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 292,\n        columnNumber: 19\n      }\n    }, React.createElement(InputLevel, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 293,\n        columnNumber: 21\n      }\n    }, \"Bio\"), React.createElement(BasicFormInput, {\n      multiline: true,\n      minHeight: 100,\n      value: values.description,\n      onChangeText: handleChange(\"description\"),\n      onBlur: handleBlur(\"description\"),\n      placeholder: \"About yourself\",\n      isEditing: isEditing,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 294,\n        columnNumber: 21\n      }\n    }), touched.description && errors.description ? React.createElement(ErrorText, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 304,\n        columnNumber: 23\n      }\n    }, errors.description) : null));\n  })))));\n}\n\nexport default BasicInfo;\nvar styles = StyleSheet.create({\n  basicInfoWrapper: {\n    flex: 1,\n    paddingHorizontal: 30,\n    marginTop: 20,\n    marginBottom: 30,\n    justifyContent: \"center\"\n  }\n});","map":{"version":3,"sources":["/home/lekhu/Documents/David/Jobportal-Mobile-App/screens/profileStacks/basicInfo.js"],"names":["React","useContext","useState","useRef","createRef","ErrorText","ContainerFluid","FormGroup","ThemeContext","AuthContext","Formik","yup","InputLevel","HeaderRightActionBtn","Checkbox","BasicFormInput","globalStyles","Axios","serializeErrors","apiPath","useErrorHandler","useFocusEffect","VerticalDivider","ErrorMessage","basicInfoSchema","object","firstName","string","required","lastName","address","nullable","phone","bio","gender","label","value","BasicInfo","navigation","isThemeDark","updateAuthUserName","isEditing","setIsEditing","error","showError","isSubmitting","setIsSubmitting","formikElement","description","user","setUser","useLayoutEffect","setOptions","headerRight","marginRight","flexDirection","current","handleSubmit","useCallback","_fetchUserData","url","get","then","res","data","response","resp","console","log","first_name","last_name","catch","err","handleProfileUpdate","values","actions","userData","_saveBasicInfo","alert","post","isCancel","status","message","updateGender","handleChange","flexGrow","Keyboard","dismiss","styles","basicInfoWrapper","errors","touched","handleBlur","StyleSheet","create","flex","paddingHorizontal","marginTop","marginBottom","justifyContent"],"mappings":"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","sourcesContent":["import React, { useContext, useState, useRef, createRef } from \"react\";\nimport {\n  View,\n  TouchableWithoutFeedback,\n  Keyboard,\n  ScrollView,\n  Text,\n  StyleSheet,\n  Button,\n  ActivityIndicator,\n} from \"react-native\";\nimport ErrorText from \"../../shared/errorText\";\nimport ContainerFluid from \"../../shared/containerFluid\";\nimport FormGroup from \"../../shared/formGroup\";\nimport { ThemeContext } from \"../../contexts/ThemeContext\";\nimport { AuthContext } from \"../../contexts/AuthContext\";\nimport { Formik } from \"formik\";\nimport * as yup from \"yup\";\nimport InputLevel from \"../../shared/inputLevel\";\nimport HeaderRightActionBtn from \"../../shared/headerRightActionBtn\";\nimport Checkbox from \"../../shared/checkbox\";\nimport BasicFormInput from \"../../shared/basicFormInput\";\nimport { globalStyles } from \"../../styles/globalStyles\";\nimport Axios from \"axios\";\nimport { serializeErrors } from \"../../utils/Helpers\";\nimport { apiPath } from \"../../utils/constants/Consts\";\nimport useErrorHandler from \"../../utils/custom-hooks/ErrorHandler\";\nimport { useFocusEffect } from \"@react-navigation/native\";\nimport VerticalDivider from \"../../shared/verticalDivider\";\nimport ErrorMessage from \"../../shared/errorMessage\";\n\n//register validation schema\nconst basicInfoSchema = yup.object({\n  firstName: yup.string().required(\"First name is required\"),\n  lastName: yup.string().required(\"Last name is required\"),\n  address: yup.string().nullable(),\n  phone: yup.string().nullable(),\n  bio: yup.string().nullable(),\n});\n\nconst gender = [\n  { label: \"Male\", value: \"male\" },\n  { label: \"Female\", value: \"female\" },\n  { label: \"Others\", value: \"other\" },\n];\n\nfunction BasicInfo({ navigation }) {\n  const { isThemeDark } = useContext(ThemeContext);\n  const { updateAuthUserName } = useContext(AuthContext);\n  const [isEditing, setIsEditing] = useState(false);\n  const { error, showError } = useErrorHandler(null);\n  const [isSubmitting, setIsSubmitting] = useState(false);\n\n  //creates refrence to formik element\n  const formikElement = createRef(null);\n\n  const [user, setUser] = useState({\n    firstName: \"\",\n    lastName: \"\",\n    phone: \"\",\n    address: \"\",\n    gender: \"\",\n    description: \"\",\n  });\n\n  //customize header right buttons right before componenet mount to perfom form actons\n  React.useLayoutEffect(() => {\n    navigation.setOptions({\n      headerRight: () => (\n        <View style={{ marginRight: 20, flexDirection: \"row\" }}>\n          {!isEditing ? (\n            <HeaderRightActionBtn\n              title=\"Edit\"\n              onPress={() => setIsEditing(true)}\n            />\n          ) : (\n            <>\n              {isSubmitting ? (\n                <>\n                  <ActivityIndicator size={25} color=\"#fff\" />\n                </>\n              ) : (\n                <>\n                  <HeaderRightActionBtn\n                    title=\"Cancel\"\n                    onPress={() => setIsEditing(!isEditing)}\n                  />\n                  <VerticalDivider />\n                  <HeaderRightActionBtn\n                    title=\"Save\"\n                    onPress={() => formikElement.current.handleSubmit()}\n                  />\n                </>\n              )}\n            </>\n          )}\n        </View>\n      ),\n    });\n  }, [navigation, isEditing, isSubmitting, formikElement]);\n\n  //fetch user data upon screen foucus\n  useFocusEffect(\n    React.useCallback(() => {\n      //async fetch user data\n      const _fetchUserData = async () => {\n        try {\n          let url = `${apiPath}/jobseeker/edit-profile`;\n          let response = await Axios.get(url).then((res) => res.data);\n          if (response.resp == 1) return response.user;\n        } catch (err) {\n          console.log(\"Error\", err);\n        }\n      };\n\n      _fetchUserData()\n        .then((user) => {\n          if (!user) return;\n          const {\n            first_name = \"\",\n            last_name = \"\",\n            phone = \"\",\n            address = \"\",\n            gender = \"\",\n            description = \"\",\n          } = user;\n\n          setUser({\n            firstName: first_name,\n            lastName: last_name,\n            phone,\n            address,\n            gender,\n            description,\n          });\n        })\n        .catch((err) => console.log(err));\n    }, [])\n  );\n\n  //handle profile update\n  const handleProfileUpdate = (values, actions) => {\n    setIsSubmitting(true);\n    const { firstName, lastName, address, phone, gender, description } = values;\n\n    const userData = {\n      first_name: firstName,\n      last_name: lastName,\n      address,\n      phone,\n      gender,\n      description,\n    };\n\n    //perform api call to update password\n    _saveBasicInfo(userData)\n      .then((user) => {\n        if (!user) return;\n        updateAuthUserName(`${firstName} ${lastName}`).then(() => {\n          setUser(values);\n          alert(\"Successfully updated\");\n        });\n      })\n      .catch((err) => console.log(err))\n      .then(() => setIsSubmitting(false));\n  };\n\n  //save user data\n  const _saveBasicInfo = async (data) => {\n    try {\n      let url = `${apiPath}/jobseeker/edit-profile`;\n      let response = await Axios.post(url, data).then((res) => res.data);\n      console.log(response);\n      if (response.resp == 1) return response.user;\n    } catch (err) {\n      if (Axios.isCancel(err)) {\n        console.log(\"Request Cancelled\", err);\n      } else if (err.response) {\n        if (err.response.status == 422)\n          showError(serializeErrors(err.response.data));\n        else if (err.response.data.resp == 0)\n          showError(serializeErrors({ error: err.response.data.message }));\n        else\n          showError(serializeErrors({ error: \"Failed to update basic info\" }));\n      } else {\n        console.log(\"Error\", err);\n      }\n    }\n  };\n\n  //update gender formik value\n  const updateGender = (handleChange, value) => {\n    handleChange(value);\n  };\n\n  return (\n    <ContainerFluid>\n      <ScrollView contentContainerStyle={globalStyles.flexGrow}>\n        <TouchableWithoutFeedback onPress={() => Keyboard.dismiss()}>\n          <View style={styles.basicInfoWrapper}>\n\n            {error && <ErrorMessage>{error}</ErrorMessage>}\n\n            <Formik\n              enableReinitialize\n              initialValues={{ ...user }}\n              validationSchema={basicInfoSchema}\n              onSubmit={(values, actions) => {\n                handleProfileUpdate(values, actions);\n              }}\n              innerRef={formikElement}\n            >\n              {({ values, errors, touched, handleChange, handleBlur }) => (\n                <>\n                  <FormGroup>\n                    <InputLevel>First Name</InputLevel>\n                    <BasicFormInput\n                      value={values.firstName}\n                      onChangeText={handleChange(\"firstName\")}\n                      onBlur={handleBlur(\"firstName\")}\n                      placeholder={\"First Name\"}\n                      isEditing={isEditing}\n                    />\n                    {touched.firstName && errors.firstName ? (\n                      <ErrorText>{errors.firstName}</ErrorText>\n                    ) : null}\n                  </FormGroup>\n\n                  <FormGroup>\n                    <InputLevel>Last Name</InputLevel>\n                    <BasicFormInput\n                      value={values.lastName}\n                      onChangeText={handleChange(\"lastName\")}\n                      onBlur={handleBlur(\"lastName\")}\n                      placeholder={\"Last Name\"}\n                      isEditing={isEditing}\n                    />\n                    {touched.lastName && errors.lastName ? (\n                      <ErrorText>{errors.lastName}</ErrorText>\n                    ) : null}\n                  </FormGroup>\n\n                  <FormGroup>\n                    <InputLevel>Phone</InputLevel>\n                    <BasicFormInput\n                      value={values.phone}\n                      onChangeText={handleChange(\"phone\")}\n                      onBlur={handleBlur(\"phone\")}\n                      placeholder={\"phone\"}\n                      isEditing={isEditing}\n                    />\n                    {touched.phone && errors.phone ? (\n                      <ErrorText>{errors.phone}</ErrorText>\n                    ) : null}\n                  </FormGroup>\n\n                  <FormGroup>\n                    <InputLevel>Address</InputLevel>\n                    <BasicFormInput\n                      value={values.address}\n                      onChangeText={handleChange(\"address\")}\n                      onBlur={handleBlur(\"address\")}\n                      placeholder={\"Address\"}\n                      isEditing={isEditing}\n                    />\n                    {touched.address && errors.address ? (\n                      <ErrorText>{errors.address}</ErrorText>\n                    ) : null}\n                  </FormGroup>\n\n                  <FormGroup>\n                    <View>\n                      <InputLevel>Gender</InputLevel>\n                      {isEditing ? (\n                        <Checkbox\n                          radio_props={gender}\n                          initial={0}\n                          onPress={(value) => {\n                            updateGender(handleChange(\"gender\"), value);\n                          }}\n                        />\n                      ) : (\n                        <BasicFormInput\n                          value={values.gender ? values.gender : \"\"}\n                          placeholder={\"About yourself\"}\n                          isEditing={false}\n                        />\n                      )}\n                    </View>\n                  </FormGroup>\n\n                  <FormGroup>\n                    <InputLevel>Bio</InputLevel>\n                    <BasicFormInput\n                      multiline\n                      minHeight={100}\n                      value={values.description}\n                      onChangeText={handleChange(\"description\")}\n                      onBlur={handleBlur(\"description\")}\n                      placeholder={\"About yourself\"}\n                      isEditing={isEditing}\n                    />\n                    {touched.description && errors.description ? (\n                      <ErrorText>{errors.description}</ErrorText>\n                    ) : null}\n                  </FormGroup>\n                </>\n              )}\n            </Formik>\n          </View>\n        </TouchableWithoutFeedback>\n      </ScrollView>\n    </ContainerFluid>\n  );\n}\n\nexport default BasicInfo;\n\nconst styles = StyleSheet.create({\n  basicInfoWrapper: {\n    flex: 1,\n    paddingHorizontal: 30,\n    marginTop: 20,\n    marginBottom: 30,\n    justifyContent: \"center\",\n  },\n});\n"]},"metadata":{},"sourceType":"module"}